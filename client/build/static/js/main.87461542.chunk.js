(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var o=n(3),s=n.n(o),c=n(25),i=n.n(c),a=(n(66),n(67),n(61)),r=n(9),l=n(6),u=n(4),d=n(5),p=n.n(d),j=(n(55),n(2));function h(){var e=Object(o.useState)({username:"",password:""}),t=Object(u.a)(e,2),n=t[0],s=t[1],c=Object(o.useState)(void 0),i=Object(u.a)(c,2),a=i[0],r=i[1],d=void 0===a?{display:"none"}:{display:"block",color:"red"};return Object(j.jsx)("div",{className:"login",children:Object(j.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),p.a.post("https://social-network-edin.herokuapp.com/api/users/login",{username:n.username,password:n.password}).then((function(e){console.log(e.data),"object"===typeof e.data?(localStorage.setItem("token",JSON.stringify(e.data)),window.location="/home"):r("Invalid username or password..")}))},children:[Object(j.jsx)("h1",{children:"EDBOOK LOGIN"}),Object(j.jsxs)("span",{children:[Object(j.jsx)("input",{required:!0,type:"text",placeholder:"Username",value:n.username,onChange:function(e){return s(Object(l.a)(Object(l.a)({},n),{},{username:e.target.value}))}}),Object(j.jsx)("input",{required:!0,type:"password",placeholder:"Password",value:n.password,onChange:function(e){return s(Object(l.a)(Object(l.a)({},n),{},{password:e.target.value}))}})]}),Object(j.jsx)("input",{className:"btn",type:"submit"}),Object(j.jsx)("p",{id:"login-alert",style:d,children:a}),Object(j.jsxs)("p",{onClick:function(){return window.location="/register"},children:["Dont have acc, ",Object(j.jsx)("u",{children:"register"})]})]})})}n(87);function m(){var e=Object(o.useState)({name:"",surname:"",username:"",email:"",password:"",confirmPassword:""}),t=Object(u.a)(e,2),n=t[0],s=t[1],c=Object(o.useState)(void 0),i=Object(u.a)(c,2),a=i[0],r=i[1],d=void 0===a?{display:"none"}:{display:"block",color:"red"};return Object(j.jsx)("div",{className:"login",children:Object(j.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),n.password===n.confirmPassword?p.a.post("https://social-network-edin.herokuapp.com/api/users/register",{name:n.name,surname:n.surname,username:n.username,email:n.email,password:n.password}).then((function(e){window.location="/login"})):r("Password and conformation password are not same.")},children:[Object(j.jsx)("h1",{children:"EDBOOK REGISTER"}),Object(j.jsxs)("span",{children:[Object(j.jsx)("input",{min:"2",max:"32",type:"text",required:!0,placeholder:"Name",value:n.name,onChange:function(e){return s(Object(l.a)(Object(l.a)({},n),{},{name:e.target.value}))}}),Object(j.jsx)("input",{min:"2",max:"32",type:"text",required:!0,placeholder:"Surname",value:n.surname,onChange:function(e){return s(Object(l.a)(Object(l.a)({},n),{},{surname:e.target.value}))}}),Object(j.jsx)("input",{min:"4",max:"32",type:"text",required:!0,placeholder:"Username",value:n.username,onChange:function(e){return s(Object(l.a)(Object(l.a)({},n),{},{username:e.target.value}))}}),Object(j.jsx)("input",{min:"6",max:"64",type:"text",email:!0,required:!0,placeholder:"Email",value:n.email,onChange:function(e){return s(Object(l.a)(Object(l.a)({},n),{},{email:e.target.value}))}}),Object(j.jsx)("input",{min:"6",max:"256",type:"password",required:!0,placeholder:"Password",value:n.password,onChange:function(e){return s(Object(l.a)(Object(l.a)({},n),{},{password:e.target.value}))}}),Object(j.jsx)("input",{min:"6",max:"256",type:"password",required:!0,placeholder:"Password",value:n.confirmPassword,onChange:function(e){return s(Object(l.a)(Object(l.a)({},n),{},{confirmPassword:e.target.value}))}})]}),Object(j.jsx)("input",{className:"btn",type:"submit"}),Object(j.jsx)("p",{id:"login-alert",style:d,children:a}),Object(j.jsxs)("p",{onClick:function(){return window.location="/login"},children:["If you have acc, ",Object(j.jsx)("u",{children:"login"})]})]})})}var b=n(16),O=n(60),f=(n(91),n(24));n(92);function x(e){var t=e.setSearchToggle,n=e.user,o=e.setUser,s=JSON.parse(localStorage.getItem("token")),c=Object(b.c)((function(e){return e.search}));return n?Object(j.jsxs)("div",{className:"search",children:[Object(j.jsx)(f.a,{color:"red",size:"24px",onClick:function(){return t(!1)}}),c.map((function(e){return Object(j.jsxs)("div",{className:"single-user",children:[Object(j.jsxs)("span",{onClick:function(){return window.location="/profile/"+e._id},children:[Object(j.jsx)("img",{src:e.profilePhoto,alt:"profile"}),Object(j.jsx)("h4",{children:e.username})]}),n.following.find((function(t){return t===e._id}))?Object(j.jsx)("button",{id:"unfollow-btn",onClick:function(){return function(e){var t=n.following.filter((function(t){return t!==e}));o(Object(l.a)(Object(l.a)({},n),{},{following:t})),p.a.post("https://social-network-edin.herokuapp.com/api/users/unfollow",{unfollowedID:e,unfollowerID:s.user._id}).then((function(e){"Unfollowed"===e.data?console.log(n.following):console.log("Problem")}))}(e._id)},children:"UNFOLLOW"}):Object(j.jsx)("button",{id:"follow-btn",onClick:function(){return t=e._id,n.following.push(t),o(Object(l.a)(Object(l.a)({},n),{},{following:n.following})),console.log(n.following),void p.a.post("https://social-network-edin.herokuapp.com/api/users/follow",{followedID:t,followerID:s.user._id}).then((function(e){"Followed"===e.data?console.log("Extra"):console.log("Problem")}));var t},children:"FOLLOW"})]})}))]}):Object(j.jsx)("div",{children:"Loading..."})}function g(e){var t=e.setUser,n=e.user,s=Object(o.useState)(""),c=Object(u.a)(s,2),i=c[0],a=c[1],r=Object(b.b)();var l=Object(o.useState)(!1),d=Object(u.a)(l,2),h=d[0],m=d[1];return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{onClick:function(){return window.location="/home"},children:"EDBOOK"}),Object(j.jsx)("input",{type:"search",placeholder:"Search users...",onClick:function(){return m(!h)},onChange:function(e){return function(e){a(e.target.value),p.a.post("https://social-network-edin.herokuapp.com/api/users/search",{searched:i}).then((function(e){r({type:"SEARCH",payload:e.data})}))}(e)}}),Object(j.jsx)(O.a,{size:"30px",onClick:function(){return window.location="/newpost"}}),h?Object(j.jsx)(x,{setSearchToggle:m,user:n,setUser:t}):""]})}var w=n(21);n(93);function v(){var e=JSON.parse(localStorage.getItem("token"));return Object(j.jsxs)("footer",{children:[Object(j.jsx)(w.c,{size:"30px",onClick:function(){return window.location="/home"}}),Object(j.jsx)(w.a,{size:"30px",onClick:function(){window.location="/notifications"},color:"white"}),Object(j.jsx)("img",{src:e.user.profilePhoto,alt:"profilePhoto",onClick:function(){return window.location="/profile/"+e.user._id}})]})}n(56);var k=n(38),y=n(29);function S(e){var t=e.post,n=e.user,s=e.dispatch,c=Object(o.useState)(!1),i=Object(u.a)(c,2),a=i[0],r=i[1],l=Object(y.useSpring)(a?{display:"block"}:{display:"none"}),d=Object(o.useState)(!1),h=Object(u.a)(d,2),m=h[0],O=h[1],x=Object(o.useState)(),g=Object(u.a)(x,2),v=g[0],S=g[1],N=Object(b.c)((function(e){return e.posts}));function C(e){t.likes.find((function(e){return e===n.user._id}))?(p.a.put("https://social-network-edin.herokuapp.com/api/posts/unlike",{postid:e,userid:n.user._id}),s({type:"UNLIKE",payload:{postid:e,userid:n.user._id}}),O(!m)):(p.a.put("https://social-network-edin.herokuapp.com/api/posts/like",{postid:e,userid:n.user._id}),s({type:"LIKE",payload:{userid:n.user._id,postid:e}}),O(!m))}var _=JSON.parse(t.user),E=N.find((function(e){return e._id===t._id})),D=JSON.parse(t.user);return console.log(D),Object(j.jsxs)("div",{className:"post",children:[Object(j.jsxs)(y.animated.div,{className:"all-comments",style:l,children:[Object(j.jsx)(f.a,{size:"32px",color:"red",onClick:function(){return r(!1)}}),0===t.comments.length&&Object(j.jsx)("p",{children:"This post have not comments."}),t.comments.map((function(e){return Object(j.jsxs)("div",{className:"single-comment",children:[Object(j.jsxs)("span",{children:[Object(j.jsxs)("span",{onClick:function(){return window.location="/profile/"+e.user._id},children:[Object(j.jsx)("img",{src:e.user.profilePhoto,alt:"prodile"}),Object(j.jsx)("h4",{children:e.user.username})]}),Object(j.jsxs)("p",{children:[": ",e.comment]})]}),(n.user._id===_._id||e.user._id===_._id)&&Object(j.jsx)(f.a,{onClick:function(){return s({type:"DELETECOMMENT",payload:t=e}),p.a.put("https://social-network-edin.herokuapp.com/api/posts/deletecomment",t),void r(!1);var t}})]})}))]}),Object(j.jsx)("div",{className:"post-header",children:Object(j.jsxs)("span",{onClick:function(){return window.location="/profile/"+D._id},children:[Object(j.jsx)("img",{src:D.profilePhoto,alt:"profile"}),Object(j.jsx)("h3",{children:D.username})]})}),Object(j.jsx)("div",{className:"image-container",children:Object(j.jsx)("img",{src:t.photo,alt:"profile"})}),Object(j.jsxs)("div",{className:"description",children:[Object(j.jsx)("h5",{onClick:function(){return window.location="/profile/"+D._id},children:D.username}),Object(j.jsx)("p",{children:t.description})]}),Object(j.jsxs)("h5",{style:{margin:"0px",textAlign:"left"},children:[t.likes.length," likes"]}),Object(j.jsx)("div",{className:"reactions",children:Object(j.jsxs)("span",{children:[E.likes.find((function(e){return e===n.user._id}))?Object(j.jsx)(w.d,{size:"28px",onClick:function(){return C(t._id)},color:"red"}):Object(j.jsx)(w.d,{size:"28px",onClick:function(){return C(t._id)},color:"black"}),Object(j.jsx)(k.a,{size:"25px",onClick:function(){return r(!0)}})]})}),Object(j.jsxs)("div",{className:"comment",children:[Object(j.jsx)("textarea",{value:v,onChange:function(e){return S(e.target.value)},placeholder:"Write comment..."}),Object(j.jsx)("button",{onClick:function(){return function(){if("string"===typeof v&&v.length>0){var e={postid:t._id,user:n.user,comment:v,date:Date.now()};s({type:"ADDCOMMENT",payload:e}),p.a.put("http://localhost:5000/api/posts/postcomment",e),S("")}}()},children:"POST"})]}),Object(j.jsx)("div",{className:"post-comments",children:Object(j.jsxs)("div",{className:"single-comment last-comment",children:[Object(j.jsx)("h4",{children:t.comments.length>0?t.comments[t.comments.length-1].user.username:" "}),Object(j.jsxs)("p",{children:[" ",t.comments.length>0?t.comments[t.comments.length-1].comment:" "]})]})})]})}n(95);function N(){var e=Object(b.b)(),t=Object(o.useState)("Please wait..."),n=Object(u.a)(t,2),s=n[0],c=n[1],i=JSON.parse(localStorage.getItem("token")),a=Object(o.useState)(),r=Object(u.a)(a,2),l=r[0],d=r[1];Object(o.useEffect)((function(){var e=i.user._id;p.a.post("https://social-network-edin.herokuapp.com/api/users/getprofile",{userid:e}).then((function(e){"object"===typeof e.data?d(e.data):console.log("User not found.")}))}),[i.user._id]),Object(o.useEffect)((function(){void 0!==l&&p.a.post("https://social-network-edin.herokuapp.com/api/posts/getposts",{user:l}).then((function(t){t.data.map((function(e){e.user=JSON.stringify(e.user)})),t.data.length<=0&&c("You have not any posts to see right now."),e({type:"LOAD",payload:t.data})}))}),[l]);var h=Object(b.c)((function(e){return e.posts}));console.log(h);for(var m=[],O=h.length-1;O>=0;O--)m.push(h[O]);return Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(g,{setUser:d,user:l}),h.length<=0?Object(j.jsx)("p",{children:s}):"",m.map((function(t){return Object(j.jsx)(S,{post:t,user:i,dispatch:e})})),Object(j.jsx)(v,{})]})}var C=n(43);n(96);function _(){var e=JSON.parse(localStorage.getItem("token")).user,t=Object(o.useState)(""),n=Object(u.a)(t,2),s=n[0],c=n[1],i=Object(o.useState)(),a=Object(u.a)(i,2),r=a[0],l=a[1],d=Object(o.useState)(),h=Object(u.a)(d,2),m=h[0],b=h[1],O=void 0===m?{display:"none"}:{display:"block",color:"red"},f=new FormData;return Object(j.jsxs)("div",{className:"Newpost",children:[Object(j.jsx)(g,{}),Object(j.jsxs)("div",{className:"photo-upload",children:[Object(j.jsx)(C.a,{color:"royalblue",style:r?{display:"none"}:{display:"block"}}),Object(j.jsx)(C.b,{color:"red",size:"32px",id:"close",style:r?{display:"block"}:{display:"none"},onClick:function(e){return window.location="/newpost"}}),r?Object(j.jsx)("img",{id:"output",alt:"Puploadhoto"}):Object(j.jsx)("input",{required:!0,type:"file",onChange:function(e){return function(e){l(e.target.files[0]);var t=e.target,n=new FileReader;n.onload=function(){var e=n.result;document.getElementById("output").src=e},n.readAsDataURL(t.files[0])}(e)}})]}),Object(j.jsxs)("div",{className:"description-upload",children:[Object(j.jsx)("textarea",{value:s,onChange:function(e){return c(e.target.value)},placeholder:"Type description of yout photo..."}),Object(j.jsx)("button",{onClick:function(){return function(t){if(void 0===r)return b("Please select 1 picture"),!1;f.append("file",r),f.append("upload_preset","ml_default"),p.a.post("https://api.cloudinary.com/v1_1/dyp902luw/image/upload",f).then((function(e){console.log(e.data)})),p.a.post("https://social-network-edin.herokuapp.com/api/posts/uploadpost",{photo:"https://res.cloudinary.com/dyp902luw/image/upload/v1629370172/"+r.name,user:JSON.stringify(e),description:s}).then((function(e){"Uploaded"===e.data?window.location="/home":b("Error:File is not uploaded successfully, try again.")}))}()},children:"UPLOAD"}),Object(j.jsx)("p",{style:O,children:m})]}),Object(j.jsx)(v,{})]})}n(97);function E(e){var t=JSON.parse(localStorage.getItem("token")),n=Object(b.b)(),s=Object(o.useState)(),c=Object(u.a)(s,2),i=c[0],a=c[1];Object(o.useEffect)((function(){var t=e.match.params.id;p.a.post("https://social-network-edin.herokuapp.com/api/users/getprofile",{userid:t}).then((function(e){"object"===typeof e.data?(a(e.data),n({type:"LOAD",payload:e.data.posts})):console.log("User not found.")}))}),[e.match.params.id]);var r=Object(o.useState)(!1),d=Object(u.a)(r,2),h=d[0],m=d[1],O=Object(o.useState)(),f=Object(u.a)(O,2),x=f[0],w=f[1];if(!i)return Object(j.jsx)("div",{children:"Loading"});var k=new FormData;for(var y=[],S=i.posts.length-1;S>=0;S--)y.push(i.posts[S]);var N=h?{display:"block"}:{display:"none"};return Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)(g,{}),Object(j.jsxs)("div",{className:"profile-header",children:[Object(j.jsxs)("div",{className:"profile-info",children:[Object(j.jsxs)("span",{id:"main",children:[Object(j.jsx)("img",{src:i.profilePhoto,alt:"profile"}),Object(j.jsx)("h2",{children:i.username})]}),Object(j.jsxs)("span",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Posts"}),Object(j.jsx)("p",{children:i.posts.length})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Followers"}),Object(j.jsx)("p",{children:i.followers.length})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h5",{children:"Following"}),Object(j.jsx)("p",{children:i.following.length})]})]})]}),Object(j.jsxs)("span",{id:"btns",children:[t.user._id===i._id?Object(j.jsx)("button",{onClick:function(){return m(!h)},id:"settings-btn",children:"SETTINGS"}):"",i.following.length<=0||!i.following.find((function(t){return t===e.match.params.id}))?Object(j.jsx)("button",{id:"follow-btn",onClick:function(){return n=e.match.params.id,i.following.push(n),a(Object(l.a)(Object(l.a)({},i),{},{following:i.following})),console.log(i.following),void p.a.post("https://social-network-edin.herokuapp.com/api/users/follow",{followedID:n,followerID:t.user._id}).then((function(e){"Followed"===e.data?console.log("Extra"):console.log("Problem")}));var n},children:"FOLLOW"}):Object(j.jsx)("button",{id:"unfollow-btn",onClick:function(){return function(e){var n=i.following.filter((function(t){return t!==e}));a(Object(l.a)(Object(l.a)({},i),{},{following:n})),p.a.post("https://social-network-edin.herokuapp.com/api/users/unfollow",{unfollowedID:e,unfollowerID:t.user._id}).then((function(e){"Unfollowed"===e.data?console.log(i.following):console.log("Problem")}))}(e.match.params.id)},children:"UNFOLLOW"})]})]}),Object(j.jsxs)("div",{id:"settings",style:N,children:[Object(j.jsx)("h4",{onClick:function(){return localStorage.removeItem("token"),void(window.location="/login")},children:"Logout"}),Object(j.jsx)("input",{type:"file",onChange:function(e){return function(e){w(e.target.files[0]),console.log(x)}(e)}}),Object(j.jsx)("h4",{onClick:function(){return void 0===x&&console.log("Select one file"),k.append("file",x),k.append("upload_preset","ml_default"),p.a.post("https://api.cloudinary.com/v1_1/dyp902luw/image/upload",k).then((function(e){console.log(e.data)})),void p.a.post("https://social-network-edin.herokuapp.com/api/posts/updateprofile",{userid:e.match.params.id,photo:"https://res.cloudinary.com/dyp902luw/image/upload/v1629370172/"+x.name}).then((function(e){"Uploaded"===e.data?console.log("uploaded"):console.log("Server problem")}))},children:"UPLOAD"})]}),Object(j.jsx)("div",{className:"image-container",children:y.map((function(e){return Object(j.jsx)("img",{src:e.photo,alt:"post",onClick:function(){return window.location="/post/"+e._id}})}))}),Object(j.jsx)(v,{})]})}function D(){var e=localStorage.getItem("token");window.location=e?"/home":"/login"}n(98);function P(){var e=JSON.parse(localStorage.getItem("token")),t=Object(o.useState)(),n=Object(u.a)(t,2),s=n[0],c=n[1];if(Object(o.useEffect)((function(){p.a.post("https://social-network-edin.herokuapp.com/api/users/getnotifications",{userid:e.user._id}).then((function(e){c(e.data)}))}),[]),!s)return Object(j.jsx)("div",{children:"Loading..."});for(var i=[],a=s.length-1;a>=0;a--)i.push(s[a]);return Object(j.jsxs)("div",{className:"notifications",children:[Object(j.jsx)(g,{}),Object(j.jsx)("h1",{children:"Notifications"}),s.length<=0?Object(j.jsx)("p",{children:"You have not notifications"}):i.map((function(e){return Object(j.jsxs)("div",{className:"single-notification",children:[Object(j.jsxs)("span",{onClick:function(){return window.location="/profile/"+e.likeUser._id},children:[Object(j.jsx)("img",{src:e.likeUser.profilePhoto,id:"profile",alt:"profile"}),Object(j.jsx)("h4",{children:e.likeUser.username})]}),Object(j.jsx)("p",{children:e.action}),Object(j.jsx)("img",{src:e.post.photo,id:"post",alt:"post"})]})})),Object(j.jsx)(v,{})]})}function I(e){var t=JSON.parse(localStorage.getItem("token")),n=Object(o.useState)(),s=Object(u.a)(n,2),c=s[0],i=s[1],a=Object(o.useState)(),r=Object(u.a)(a,2),d=r[0],h=r[1],m=Object(o.useState)(!1),b=Object(u.a)(m,2),O=b[0],x=b[1],g=Object(y.useSpring)(O?{display:"block"}:{display:"none"}),v=Object(o.useState)(!1),S=Object(u.a)(v,2),N=S[0],C=S[1],_=Object(o.useState)(),E=Object(u.a)(_,2),D=E[0],P=E[1];if(Object(o.useEffect)((function(){p.a.post("https://social-network-edin.herokuapp.com/api/users/getprofile",{userid:t.user._id}).then((function(e){i(e.data)})),p.a.post("https://social-network-edin.herokuapp.com/api/posts/getpost",{postid:e.match.params.id}).then((function(e){h(e.data)}))}),[]),!c||!d)return Object(j.jsx)("div",{children:"Loading..."});function I(e){d.likes.find((function(e){return e===c._id}))?(p.a.put("https://social-network-edin.herokuapp.com/api/posts/unlike",{postid:e,userid:c._id}),h(Object(l.a)(Object(l.a)({},d),{},{likes:d.likes.filter((function(e){return e!==c._id}))})),C(!N)):(p.a.put("https://social-network-edin.herokuapp.com/api/posts/like",{postid:e,userid:c._id}),d.likes.push(c._id),C(!N))}var L=JSON.parse(d.user);console.log(d);var U=JSON.parse(d.user);return Object(j.jsxs)("div",{className:"post",children:[Object(j.jsxs)(y.animated.div,{className:"all-comments",style:g,children:[Object(j.jsx)(f.a,{size:"32px",color:"red",onClick:function(){return x(!1)}}),d.comments.map((function(e){return Object(j.jsxs)("div",{className:"single-comment",children:[Object(j.jsxs)("span",{children:[Object(j.jsxs)("span",{onClick:function(){return window.location="/profile/"+e.user._id},children:[Object(j.jsx)("img",{src:e.user.profilePhoto,alt:"prodile"}),Object(j.jsx)("h4",{children:e.user.username})]}),Object(j.jsxs)("p",{children:[": ",e.comment]})]}),(c._id===L._id||e.user._id===L._id)&&Object(j.jsx)(f.a,{onClick:function(){return t=e,h(Object(l.a)(Object(l.a)({},d),{},{likes:d.comments.filter((function(e){return e!==t}))})),p.a.put("https://social-network-edin.herokuapp.com/api/posts/deletecomment",t),void x(!1);var t}})]})}))]}),Object(j.jsxs)("div",{className:"post-header",children:[Object(j.jsxs)("span",{onClick:function(){return window.location="/profile/"+U._id},children:[Object(j.jsx)("img",{src:U.profilePhoto,alt:"profile"}),Object(j.jsx)("h3",{children:U.username})]}),Object(j.jsx)(w.b,{size:"24px",color:"red",onClick:function(){return p.a.put("https://social-network-edin.herokuapp.com/api/posts/deletepost",{postid:e.match.params.id}),void(window.location="/profile/"+c._id)}})]}),Object(j.jsx)("div",{className:"image-container",children:Object(j.jsx)("img",{src:d.photo,alt:"profile"})}),Object(j.jsxs)("h5",{style:{margin:"0px",textAlign:"left"},children:[d.likes.length," likes"]}),Object(j.jsx)("div",{className:"reactions",children:Object(j.jsxs)("span",{children:[d.likes.find((function(e){return e===c._id}))?Object(j.jsx)(w.d,{size:"28px",onClick:function(){return I(d._id)},color:"red"}):Object(j.jsx)(w.d,{size:"28px",onClick:function(){return I(d._id)},color:"black"}),Object(j.jsx)(k.a,{size:"25px",onClick:function(){return x(!0)}})]})}),Object(j.jsxs)("div",{className:"comment",children:[Object(j.jsx)("textarea",{value:D,onChange:function(e){return P(e.target.value)},placeholder:"Write comment..."}),Object(j.jsx)("button",{onClick:function(){return function(){if("string"===typeof D&&D.length>0){var e={postid:d._id,user:c,comment:D,date:Date.now()};d.comments.push(e),p.a.put("https://social-network-edin.herokuapp.com/api/posts/postcomment",e),P("")}}()},children:"POST"})]}),Object(j.jsx)("div",{className:"post-comments",children:Object(j.jsxs)("div",{className:"single-comment last-comment",children:[Object(j.jsx)("h4",{children:d.comments.length>0?d.comments[d.comments.length-1].user.username:" "}),Object(j.jsxs)("p",{children:[" ",d.comments.length>0?": "+d.comments[d.comments.length-1].comment:" "]})]})})]})}var L=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(a.a,{children:[Object(j.jsx)(r.a,{path:"/login",exact:!0,component:h}),Object(j.jsx)(r.a,{path:"/register",exact:!0,component:m}),Object(j.jsx)(r.a,{path:"/newpost",exact:!0,component:_}),Object(j.jsx)(r.a,{path:"/home",component:N}),Object(j.jsx)(r.a,{path:"/profile/:id",component:E}),Object(j.jsx)(r.a,{path:"/post/:id",component:I}),Object(j.jsx)(r.a,{path:"/notifications",component:P}),Object(j.jsx)(r.a,{path:"/",exact:!0,component:D})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),o(e),s(e),c(e),i(e)}))},T=n(39);var F=Object(T.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return e=t.payload.user;default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADPOST":return e=t.payload;case"LOAD":return console.log(t.payload),e=t.payload;case"ADDCOMMENT":var n=e.find((function(e){return e._id===t.payload.postid}));return n.comments.push(t.payload),e;case"DELETECOMMENT":var o=e.find((function(e){return e._id===t.payload.postid})),s=o.comments.filter((function(e){return e.comment!==t.payload.comment}));return o.comments=s,e;case"LIKE":var c=e.find((function(e){return e._id===t.payload.postid}));return c.likes.push(t.payload.userid),e;case"UNLIKE":var i=e.find((function(e){return e._id===t.payload.postid})),a=i.likes.filter((function(e){return e!==t.payload.userid}));return i.likes=a,e;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return e=t.payload;default:return e}}}),J=Object(T.b)(F);i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(b.a,{store:J,children:Object(j.jsx)(L,{})})}),document.getElementById("root")),U()},55:function(e,t,n){},56:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},87:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.87461542.chunk.js.map