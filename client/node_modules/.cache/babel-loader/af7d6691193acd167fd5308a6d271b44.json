{"ast":null,"code":"import _objectSpread from\"C:/Users/PC/OneDrive/Desktop/React/social-network/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/PC/OneDrive/Desktop/React/social-network/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useState}from\"react\";import\"./login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),loginForm=_useState2[0],setLoginForm=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var alertStyle=alert===undefined?{display:\"none\"}:{display:\"block\",color:\"red\"};function login(e){e.preventDefault();axios.post(\"/api/users/login\",{username:loginForm.username,password:loginForm.password}).then(function(res){console.log(res.data);if(typeof res.data===\"object\"){localStorage.setItem(\"token\",JSON.stringify(res.data));window.location=\"/home\";}else{setAlert(\"Invalid username or password..\");}});}return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:login,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"EDBOOK LOGIN\"}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",placeholder:\"Username\",value:loginForm.username,onChange:function onChange(e){return setLoginForm(_objectSpread(_objectSpread({},loginForm),{},{username:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",placeholder:\"Password\",value:loginForm.password,onChange:function onChange(e){return setLoginForm(_objectSpread(_objectSpread({},loginForm),{},{password:e.target.value}));}})]}),/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\"}),/*#__PURE__*/_jsx(\"p\",{id:\"login-alert\",style:alertStyle,children:alert}),/*#__PURE__*/_jsxs(\"p\",{onClick:function onClick(){return window.location=\"/register\";},children:[\"Dont have acc, \",/*#__PURE__*/_jsx(\"u\",{children:\"register\"})]})]})});}","map":{"version":3,"sources":["C:/Users/PC/OneDrive/Desktop/React/social-network/client/src/components/Login/login.js"],"names":["axios","useState","Login","username","password","loginForm","setLoginForm","undefined","alert","setAlert","alertStyle","display","color","login","e","preventDefault","post","then","res","console","log","data","localStorage","setItem","JSON","stringify","window","location","target","value"],"mappings":"6VAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAO,aAAP,C,wFAGA,cAAe,SAASC,CAAAA,KAAT,EAAgB,CAC3B,cAA+BD,QAAQ,CAAC,CACpCE,QAAQ,CAAC,EAD2B,CAEpCC,QAAQ,CAAC,EAF2B,CAAD,CAAvC,wCAAOC,SAAP,eAAiBC,YAAjB,eAIA,eAAuBL,QAAQ,CAACM,SAAD,CAA/B,yCAAOC,KAAP,eAAaC,QAAb,eACA,GAAMC,CAAAA,UAAU,CAACF,KAAK,GAAGD,SAAR,CAAoB,CAACI,OAAO,CAAC,MAAT,CAApB,CAAqC,CAACA,OAAO,CAAC,OAAT,CAAiBC,KAAK,CAAC,KAAvB,CAAtD,CAEA,QAASC,CAAAA,KAAT,CAAeC,CAAf,CAAiB,CACbA,CAAC,CAACC,cAAF,GACAf,KAAK,CAACgB,IAAN,CAAW,kBAAX,CAA8B,CAC1Bb,QAAQ,CAACE,SAAS,CAACF,QADO,CAE1BC,QAAQ,CAACC,SAAS,CAACD,QAFO,CAA9B,EAICa,IAJD,CAIM,SAAAC,GAAG,CAAE,CAEPC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACA,GAAG,MAAOH,CAAAA,GAAG,CAACG,IAAX,GAAmB,QAAtB,CAA+B,CAC3BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeP,GAAG,CAACG,IAAnB,CAA7B,EACAK,MAAM,CAACC,QAAP,CAAgB,OAAhB,CAEH,CAJD,IAIK,CACDlB,QAAQ,CAAC,gCAAD,CAAR,CACH,CACJ,CAdD,EAeH,CAED,mBAAO,YAAK,SAAS,CAAC,OAAf,uBACH,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEI,KAAjC,wBACI,oCADJ,cAEI,qCACI,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,MAArB,CAA4B,WAAW,CAAC,UAAxC,CAAmD,KAAK,CAAER,SAAS,CAACF,QAApE,CAA8E,QAAQ,CAAE,kBAAAW,CAAC,QAAER,CAAAA,YAAY,gCAAKD,SAAL,MAAeF,QAAQ,CAACW,CAAC,CAACc,MAAF,CAASC,KAAjC,GAAd,EAAzF,EADJ,cAEI,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,UAArB,CAAgC,WAAW,CAAC,UAA5C,CAAuD,KAAK,CAAExB,SAAS,CAACD,QAAxE,CAAkF,QAAQ,CAAE,kBAAAU,CAAC,QAAER,CAAAA,YAAY,gCAAKD,SAAL,MAAeD,QAAQ,CAACU,CAAC,CAACc,MAAF,CAASC,KAAjC,GAAd,EAA7F,EAFJ,GAFJ,cAOI,cAAO,SAAS,CAAC,KAAjB,CAAuB,IAAI,CAAC,QAA5B,EAPJ,cAQI,UAAG,EAAE,CAAC,aAAN,CAAoB,KAAK,CAAEnB,UAA3B,UAAwCF,KAAxC,EARJ,cASI,WAAG,OAAO,CAAE,yBAAIkB,CAAAA,MAAM,CAACC,QAAP,CAAgB,WAApB,EAAZ,0CAA4D,+BAA5D,GATJ,GADG,EAAP,CAcH","sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport \"./login.css\";\r\n\r\n\r\nexport default function Login(){\r\n    const [loginForm,setLoginForm]=useState({\r\n        username:\"\",\r\n        password:\"\"\r\n    })\r\n    const [alert,setAlert]=useState(undefined);\r\n    const alertStyle=alert===undefined ? {display:\"none\"}:{display:\"block\",color:\"red\"}\r\n\r\n    function login(e){\r\n        e.preventDefault();\r\n        axios.post(\"/api/users/login\",{\r\n            username:loginForm.username,\r\n            password:loginForm.password\r\n        })\r\n        .then(res=>{\r\n            \r\n            console.log(res.data)\r\n            if(typeof(res.data)===\"object\"){\r\n                localStorage.setItem(\"token\",JSON.stringify(res.data));\r\n                window.location=\"/home\";\r\n\r\n            }else{\r\n                setAlert(\"Invalid username or password..\");\r\n            }\r\n        })\r\n    }\r\n\r\n    return <div className=\"login\">\r\n        <form className=\"form\" onSubmit={login}>\r\n            <h1>EDBOOK LOGIN</h1>\r\n            <span>\r\n                <input required type=\"text\" placeholder=\"Username\" value={loginForm.username} onChange={e=>setLoginForm({...loginForm,username:e.target.value})}/>\r\n                <input required type=\"password\" placeholder=\"Password\" value={loginForm.password} onChange={e=>setLoginForm({...loginForm,password:e.target.value})}/>\r\n            </span>\r\n\r\n            <input className=\"btn\" type=\"submit\"/>\r\n            <p id=\"login-alert\" style={alertStyle}>{alert}</p>\r\n            <p onClick={()=>window.location=\"/register\"}>Dont have acc, <u>register</u></p>\r\n        </form>\r\n\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}