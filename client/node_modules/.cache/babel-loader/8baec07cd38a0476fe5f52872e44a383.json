{"ast":null,"code":"import{useSelector,useDispatch}from\"react-redux\";import Header from\"../Header/header\";import Footer from\"../Footer/footer\";import{useEffect}from\"react\";import axios from\"axios\";import Post from\"../Post/post\";import\"./home.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var localUserInfo=JSON.parse(localStorage.getItem(\"token\"));var dispatch=useDispatch();function getPosts(){axios.post(\"https://social-network-edin.herokuapp.com/api/posts/getposts\",{user:localUserInfo.user}).then(function(res){dispatch({type:\"LOAD\",payload:res.data});});}useEffect(function(){getPosts();// eslint-disable-next-line \n},[]);var posts=useSelector(function(store){return store.posts;});console.log(posts);return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(Header,{}),posts.length<=0?/*#__PURE__*/_jsx(\"p\",{children:\"Please wait ...\"}):\"\",posts.map(function(post){return/*#__PURE__*/_jsx(Post,{post:post,user:localUserInfo,dispatch:dispatch});}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["C:/Users/PC/OneDrive/Desktop/React/social-network/client/src/components/Home.js/home.js"],"names":["useSelector","useDispatch","Header","Footer","useEffect","axios","Post","Home","localUserInfo","JSON","parse","localStorage","getItem","dispatch","getPosts","post","user","then","res","type","payload","data","posts","store","console","log","length","map"],"mappings":"AAAA,OAASA,WAAT,CAAuBC,WAAvB,KAA0C,aAA1C,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAO,YAAP,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,EAAe,CAC1B,GAAMC,CAAAA,aAAa,CAACC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAApB,CACA,GAAMC,CAAAA,QAAQ,CAACZ,WAAW,EAA1B,CAEA,QAASa,CAAAA,QAAT,EAAmB,CACfT,KAAK,CAACU,IAAN,CAAW,8DAAX,CAA0E,CACtEC,IAAI,CAACR,aAAa,CAACQ,IADmD,CAA1E,EAGCC,IAHD,CAGM,SAAAC,GAAG,CAAE,CACRL,QAAQ,CAAC,CAACM,IAAI,CAAC,MAAN,CAAaC,OAAO,CAACF,GAAG,CAACG,IAAzB,CAAD,CAAR,CACF,CALD,EAMH,CACDjB,SAAS,CAAC,UAAI,CACVU,QAAQ,GACR;AACH,CAHQ,CAGP,EAHO,CAAT,CAMA,GAAMQ,CAAAA,KAAK,CAACtB,WAAW,CAAC,SAAAuB,KAAK,QAAEA,CAAAA,KAAK,CAACD,KAAR,EAAN,CAAvB,CACAE,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAGA,mBAAO,aAAK,SAAS,CAAC,MAAf,wBACH,KAAC,MAAD,IADG,CAEFA,KAAK,CAACI,MAAN,EAAc,CAAd,cAAkB,sCAAlB,CAAyC,EAFvC,CAGFJ,KAAK,CAACK,GAAN,CAAU,SAAAZ,IAAI,CAAE,CACb,mBAAO,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,CAAkB,IAAI,CAAEP,aAAxB,CAAuC,QAAQ,CAAEK,QAAjD,EAAP,CACH,CAFA,CAHE,cAMH,KAAC,MAAD,IANG,GAAP,CAQH","sourcesContent":["import { useSelector , useDispatch } from \"react-redux\";\r\nimport Header from \"../Header/header\";\r\nimport Footer from \"../Footer/footer\";\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Post from \"../Post/post\";\r\nimport \"./home.css\";\r\n\r\nexport default function Home(){\r\n    const localUserInfo=JSON.parse(localStorage.getItem(\"token\"))\r\n    const dispatch=useDispatch();\r\n\r\n    function getPosts(){\r\n        axios.post(\"https://social-network-edin.herokuapp.com/api/posts/getposts\",{\r\n            user:localUserInfo.user\r\n        })\r\n        .then(res=>{\r\n           dispatch({type:\"LOAD\",payload:res.data});\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        getPosts();\r\n        // eslint-disable-next-line \r\n    },[])\r\n    \r\n\r\n    const posts=useSelector(store=>store.posts)\r\n    console.log(posts)\r\n\r\n\r\n    return <div className=\"home\">\r\n        <Header/>\r\n        {posts.length<=0 ? <p>Please wait ...</p>:\"\"}\r\n        {posts.map(post=>{\r\n            return <Post post={post} user={localUserInfo} dispatch={dispatch}/>\r\n        })}\r\n        <Footer/>\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}