{"ast":null,"code":"import _slicedToArray from\"C:/Users/PC/OneDrive/Desktop/React/social-network/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{MdAddCircleOutline}from\"react-icons/md\";import\"../Header/header.css\";import Search from\"../Search/search\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(){var token=JSON.parse(localStorage.getItem(\"token\"));var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){var id=token.user._id;axios.post(\"https://social-network-edin.herokuapp.com/api/users/getprofile\",{userid:id}).then(function(res){if(typeof res.data===\"object\"){setUser(res.data);}else{console.log(\"User not found.\");}});},[token.user._id]);var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var dispatch=useDispatch();function searching(e){setSearch(e.target.value);axios.post(\"https://social-network-edin.herokuapp.com/api/users/search\",{searched:search}).then(function(res){dispatch({type:\"SEARCH\",payload:res.data});});}var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),searchToggle=_useState6[0],setSearchToggle=_useState6[1];return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{onClick:function onClick(){return window.location=\"/home\";},children:\"EDBOOK\"}),/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search users...\",onClick:function onClick(){return setSearchToggle(!searchToggle);},onChange:function onChange(e){return searching(e);}}),/*#__PURE__*/_jsx(MdAddCircleOutline,{size:\"30px\",onClick:function onClick(){return window.location=\"/newpost\";}}),searchToggle?/*#__PURE__*/_jsx(Search,{setSearchToggle:setSearchToggle,user:user,setUser:setUser}):\"\"]});}","map":{"version":3,"sources":["C:/Users/PC/OneDrive/Desktop/React/social-network/client/src/components/Header/header.js"],"names":["axios","useState","useEffect","MdAddCircleOutline","Search","useDispatch","Header","token","JSON","parse","localStorage","getItem","user","setUser","id","_id","post","userid","then","res","data","console","log","search","setSearch","dispatch","searching","e","target","value","searched","type","payload","searchToggle","setSearchToggle","window","location"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAmC,OAAnC,CACA,OAAQC,kBAAR,KAAiC,gBAAjC,CACA,MAAO,sBAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,OAAQC,WAAR,KAA0B,aAA1B,C,wFAIA,cAAe,SAASC,CAAAA,MAAT,EAAiB,CAC5B,GAAIC,CAAAA,KAAK,CAACC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAV,CACA,cAAoBV,QAAQ,EAA5B,wCAAMW,IAAN,eAAWC,OAAX,eACAX,SAAS,CAAC,UAAI,CACV,GAAIY,CAAAA,EAAE,CAACP,KAAK,CAACK,IAAN,CAAWG,GAAlB,CACAf,KAAK,CAACgB,IAAN,CAAW,gEAAX,CAA4E,CACxEC,MAAM,CAACH,EADiE,CAA5E,EAGCI,IAHD,CAGM,SAAAC,GAAG,CAAE,CAEP,GAAG,MAAOA,CAAAA,GAAG,CAACC,IAAX,GAAmB,QAAtB,CAA+B,CAC3BP,OAAO,CAACM,GAAG,CAACC,IAAL,CAAP,CAEH,CAHD,IAGK,CACDC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACH,CACJ,CAXD,EAaH,CAfQ,CAeP,CAACf,KAAK,CAACK,IAAN,CAAWG,GAAZ,CAfO,CAAT,CAiBA,eAAuBd,QAAQ,CAAC,EAAD,CAA/B,yCAAKsB,MAAL,eAAYC,SAAZ,eACA,GAAIC,CAAAA,QAAQ,CAACpB,WAAW,EAAxB,CACA,QAASqB,CAAAA,SAAT,CAAmBC,CAAnB,CAAqB,CAIjBH,SAAS,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,CAGA7B,KAAK,CAACgB,IAAN,CAAW,4DAAX,CAAwE,CACpEc,QAAQ,CAACP,MAD2D,CAAxE,EAICL,IAJD,CAIM,SAAAC,GAAG,CAAE,CACPM,QAAQ,CAAC,CAACM,IAAI,CAAC,QAAN,CAAeC,OAAO,CAACb,GAAG,CAACC,IAA3B,CAAD,CAAR,CACH,CAND,EAOH,CAGD,eAAqCnB,QAAQ,CAAC,KAAD,CAA7C,yCAAOgC,YAAP,eAAoBC,eAApB,eACA,mBAAO,uCACH,WAAI,OAAO,CAAE,yBAAIC,CAAAA,MAAM,CAACC,QAAP,CAAgB,OAApB,EAAb,oBADG,cAEH,cAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAC,iBAAjC,CAAmD,OAAO,CAAE,yBAAIF,CAAAA,eAAe,CAAC,CAACD,YAAF,CAAnB,EAA5D,CAAgG,QAAQ,CAAE,kBAAAN,CAAC,QAAED,CAAAA,SAAS,CAACC,CAAD,CAAX,EAA3G,EAFG,cAGH,KAAC,kBAAD,EAAoB,IAAI,CAAC,MAAzB,CAAgC,OAAO,CAAE,yBAAIQ,CAAAA,MAAM,CAACC,QAAP,CAAgB,UAApB,EAAzC,EAHG,CAIFH,YAAY,cAAG,KAAC,MAAD,EAAQ,eAAe,CAAEC,eAAzB,CAA0C,IAAI,CAAEtB,IAAhD,CAAsD,OAAO,CAAEC,OAA/D,EAAH,CAA6E,EAJvF,GAAP,CAMH","sourcesContent":["import axios from \"axios\";\r\nimport { useState ,useEffect} from \"react\";\r\nimport {MdAddCircleOutline} from \"react-icons/md\";\r\nimport \"../Header/header.css\";\r\nimport Search from \"../Search/search\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n\r\n\r\nexport default function Header(){\r\n    let token=JSON.parse(localStorage.getItem(\"token\"));\r\n    const[user,setUser]=useState();\r\n    useEffect(()=>{\r\n        let id=token.user._id;\r\n        axios.post(\"https://social-network-edin.herokuapp.com/api/users/getprofile\",{\r\n            userid:id,\r\n        })\r\n        .then(res=>{\r\n            \r\n            if(typeof(res.data)===\"object\"){\r\n                setUser(res.data);\r\n                \r\n            }else{\r\n                console.log(\"User not found.\");\r\n            }\r\n        })\r\n\r\n    },[token.user._id]) \r\n\r\n    let [search,setSearch]=useState(\"\");\r\n    let dispatch=useDispatch();\r\n    function searching(e){\r\n        \r\n       \r\n       \r\n        setSearch(e.target.value);\r\n        \r\n        \r\n        axios.post(\"https://social-network-edin.herokuapp.com/api/users/search\",{\r\n            searched:search,\r\n            \r\n        })\r\n        .then(res=>{\r\n            dispatch({type:\"SEARCH\",payload:res.data});\r\n        })\r\n    }\r\n\r\n\r\n    const [searchToggle,setSearchToggle]=useState(false);\r\n    return <header>\r\n        <h1 onClick={()=>window.location=\"/home\"}>EDBOOK</h1>\r\n        <input type=\"search\" placeholder=\"Search users...\" onClick={()=>setSearchToggle(!searchToggle)} onChange={e=>searching(e)}/>\r\n        <MdAddCircleOutline size=\"30px\" onClick={()=>window.location=\"/newpost\"}/>\r\n        {searchToggle ? <Search setSearchToggle={setSearchToggle} user={user} setUser={setUser}/>:\"\"}\r\n    </header>\r\n}"]},"metadata":{},"sourceType":"module"}